---
layout: post
title:  "Float在内存中的存储"
date:   2018-02-11 15:00:00 +0800
categories: C
tags: C
author: pepe
description: Float在内存中的存储.
---

### **从十进制到二进制**

* 给你举个例子吧,例如0.125D
* 0.125X2=0.25,整数部分为0
* 0.25X2=0.5,整数部分为0
* 0.5X2=1.0,整数部分为1,所以0.125化为二进制就 是0.001B
* 积的小数部分依次乘以2,直到所得的积小数部分为0为止
* 有些数无法达到0,就按要求保留
* 例如0.82D
* 0.82X2=1.64,整数部分为1
* 0.64X2=1.28,整数部分为1（注意,是用0.64乘,不是1.64）
* 0.28X2=0.56,整数部分为0
* 0.56x2=1.12,整数部分为1
* 0.12X2=0.24,整数部分为0（注意是用0.12乘,不是1.12）
* 0.24X2=0.48,整数部分为0
* 0.48X2=0.96,整数部分为0
* 0.96X2=1.92,整数部分为1.要多少位就一直乘下去,
* 0.82化为二进制就是0.11010001B.


[从十进制数转化为二进制数时小数部分应该怎么算?_作业帮](https://www.zybang.com/question/1da4bfe5c6472c8e025396f47c92bae0.html)

[二进制十进制间小数怎么转换_百度经验](https://jingyan.baidu.com/article/425e69e6e93ca9be15fc1626.html)

### **float的表示方式**

先说一下 十进制 到 float在内存中保存的转换过程：

* 第一点，所有的数字在内存是用二进制保存的
* 第二点，浮点数在内存中是按[科学计数法][Scientific counting method-url]来存储的
* 第三点，既然是用科学计数法，那么就需要保存三个信息，符号、有效值、指数值
* 第四点，float在内存中占4个字节，32个bit位
* 第五点，float表示浮点数，就是用32个bit位来保存上面的三个信息。

![float]({{ site.baseurl }}/assets/images/c/float.png)

比如：

* 0.8125，转化成二进制是：0.1101，用科学计数法表示：1.101 * 2^(-1)，小数点向右移动1位
* 12.5,转化成二进制是：1100.1，用科学计数法表示：1.1001 * 2^(3)，小数点向左移动3位

再来详细说明下上面这张图：

* 1、31位保存的是符号位，"1"代表负，"0"代表正。
* 2、23-30位，是指数位，如果指数是正的，第30位放入"1"。如果n是右移得到的或指数为0，则第30位放入"0"。
* 3、23-29位，存放指数的值，指数的范围为 0 - 127.
* 4、22-0位，用来表示有效值。

[(1)c语言中FLOAT 是如何表示的_爱云横_新浪博客](http://blog.sina.com.cn/s/blog_70bab92301016zqm.html)

### **精度和值范围**

#### 精度

[C语言中关于float、double、long double精度及数值范围理解 - CSDN博客](http://blog.csdn.net/zhenganzhong_csdn/article/details/50039289)
[C语言中float double等类型在内存中的存储 - 冰岛彩虹 - 博客园](https://www.cnblogs.com/bingdaocaihong/p/6993028.html)

### **从float到值**









[Scientific counting method-url]:https://baike.baidu.com/item/%E7%A7%91%E5%AD%A6%E8%AE%B0%E6%95%B0%E6%B3%95/1612882?fr=aladdin

















