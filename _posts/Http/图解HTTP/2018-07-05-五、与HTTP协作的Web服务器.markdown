---
layout: post
title:  "五、与HTTP协作的Web服务器"
date:   2018-07-05 09:20:00 +0800
categories: Http
tags: 图解HTTP
author: pepe
description: 『 五、与HTTP协作的Web服务器 』
---

HTTP通信时，除客户端和服务器之外，还有一些用于通信数据转发的应用程序，例如代理、网关和隧道。它们可以配合服务器工作。

### **代理**
> 代理是一种有转发功能的应用程序，它扮演了位于服务器和客户端“中间人”的角色，接收由客服端发送的请求并转发给服务器，同时也接收服务器返回的响应并转发给客户端。

在HTTP通信过程中，客级联多台代理服务器。请求和响应的转发会经过数台类似锁链一样连接起来的代理服务器。转发时，需要附加Via首部字段以标记处经过的主机信息。

代理有多种使用方法，按两种基准分类。一种是是否使用缓存，另一种是是否会修改报文。
#### 缓存代理

代理转发响应时，缓存代理(Caching Proxy)会预先将资源的副本(缓存)保存在代理服务器上。

当代理再次接收到对相同资源的请求时，就可以不从源服务器那里获取资源，而是将之前缓存的资源作为响应返回。

#### 透明代理

转发请求或响应时，不对报文做任何加工的代理类型被称为`透明代理(Transparent Proxy)`。反之，对报文内容进行加工的代理被称为非透明代理。

### **网关**
> 网关是转发其他服务器通信数据的服务器，接收从客户端发送来的请求时，它就像自己拥有资源的源服务器一样对请求进行处理。有时客户端可能都不会察觉，自己的通信目标是一个网关。

* 网关与源服务器通过「非HTTP协议」进行通信。
* 利用网关能提高通信的安全性，因为可以在客户端与网关之间的通信线路上加密以确保连接的安全。

### **隧道**
> 隧道是在相隔甚远的客户端和服务器两者之间进行中转，并保持双方通信连接的应用程序。

* 隧道可按要求建立起一条与其他服务器的通信线路，届时使用SSL等加密手段进行通信。
* 隧道的目的是确保客户端能与服务器进行安全的通信。
* 隧道本身不回去解析HTTP请求。
* 隧道会在通信双方断开连接时结束。


























































