---
layout: post
title:  "new和delete"
date:   2018-06-21 19:10:00 +0800
categories: C++
tags: 黑马C++
author: pepe
description: 『 new和delete 』
---

> C++提供了较简便而功能较强的`运算符new和delete`来取代`malloc和free函数`,运算符效率高。

### **new**

```
new int;
    // 开辟一个存放整数的存储空间，返回一个指向该存储空间的地址(即指针)

new int(100);
    // 开辟一个存放整数的空间，并制定该整数的初始值为100，返回一个指向该存储空间的地址(即指针)
    
new char[10];
    // 开辟一个存放字符数组(包括10个元素)的空间，返回首元素的地址
    // 创建数组对象时，不能为对象指定初始值
    
new int[5][4];
    // 开辟一个存放二维整型数组(大小为5*4)的空间，返回首元素的地址
    
float *p = new float(3.14159);
    // 开辟一个存放单精度数的空间，并制定该实数的初始值为 3.14159，将返回的该空间的地址赋给指针变量p
```

* 如果由于内存不足等原因而无法正常分配空间，则new会返回一个空指针NULL，用户可以根据该指针的值判断分配空间是否成功。
* new 会调用类的构造函数。
* delete会调用类的析构函数。

### **delete**
delete 运算符释放已分配的内存空间
使用形式：
        delete 指针变量；
        delete []指针变量；


    
    
    
    
    


    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    












