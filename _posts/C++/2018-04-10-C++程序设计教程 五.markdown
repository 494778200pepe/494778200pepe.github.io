---
layout: post
title:  "C++程序设计教程 五"
date:   2018-04-10 15:25:00 +0800
categories: C++
tags: C++
author: pepe
description: 函数
---

### 一：**程序的内存区域**

* 1、代码区：存放程序的代码，即程序中的各个函数代码块。
* 2、全局数据区：存放程序的全局数据和静态数据。
* 3、堆区：存放程序的动态数据。
* 4、栈区：存放程序的局部数据，即各个函数中的数据。

### 二：**内联函数**

* 1、内联函数，主要用于解决程序的运行效率。(函数调用需要建立栈内存环境，进行参数传递，并产生程序执行转移，都需要开销)
* 2、内联函数的原理是 用函数内的代码 替换 函数。
* 3、内联函数适合 适合使用频率高，但代码很短的代码片段。通过函数的方式来体现其结构化和可读性，又要使效率尽可能高。
* 4、必须先声明，后调用，且声明和函数实现两处均需`inline`关键字。
* 5、内联函数中，不能有复杂的结构控制语句，如`switch`和`while`。
* 6、递归函数也是不行的。
* 7、有些函数尽管可以用宏定义`#define`来代替，但容易出问题。

```
#define MAX(a,b) ((a)>(b)?(a):(b))

int a = 1,b = 0;
MAX(a++,b);         //a被+了两次
MAX(a++,b + 10);    //a被+了一次
MAX(a,"hello");     //错误的比较int和字符串
```





















