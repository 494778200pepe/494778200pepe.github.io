---
layout: post
title:  "滑动冲突"
date:   2018-06-12 16:07:00 +0800
categories: Android
tags: 自定义ViewGroup
author: pepe
description: 『 滑动冲突 』
---

滑动冲突的基本形式分为两种，其他复杂的滑动冲突都可以拆成这两种基本形式：

*1：外部滑动方向与内部方向不一致。
* 2：外部方向与内部方向一致。

对于这两种情况，我们处理的方法也很简单，并且都有相应的套路。

* 第一种：第一种的冲突主要是一个横向一个竖向的，所以我们只要判断滑动方向是竖向还是横向的，再让对应的`View`滑动即可。判断的方法有很多，比如竖直距离与横向距离的大小比较；滑动路径与水平形成的夹角等等。

* 第二种：对于这种情况，比较特殊，我们没有通用的规则，得根据业务逻辑来得出相应的处理规则。举个最常见的例子，`ListView`下拉刷新，需要`ListView`自身滑动，但是当滑动到头部时需要`ListView`和`Header`一起滑动，也就是整个父容器的滑动。如果不处理好滑动冲突，就会出现各种意想不到情况。



参考：

[View的事件分发机制和滑动冲突解决方案 - 简书](https://www.jianshu.com/p/057832528bdd)

[Andoird 自定义ViewGroup实现竖向引导界面 - CSDN博客](https://blog.csdn.net/lmj623565791/article/details/23692439)






